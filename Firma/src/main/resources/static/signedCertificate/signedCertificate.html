<div class = "container">
	<div class = "row">
		<form class="form-horizontal" name= "form" role = "form"  ng-submit = "createCertificate()" method = "post">
				<legend>Create certificate signing request</legend>
				
				<div class = "form-group" ng-class="{ 'has-error': form.organizationUnit.$dirty && form.organizationUnit.$error.required }">
					<label class = "col-md-4 control-label" for = "organizationUnit">Organization unit:</label>
					<div class = "col-md-4">
						<input type = "text" name = "organizationUnit" id = "organizationUnit" ng-model = "certificateRequest.organizationUnit" class="form-control " required/>
						<span ng-show = "form.organizationUnit.$dirty && form.organizationUnit.$error.required" class="help-block">Organization unit is required</span>					
					</div>
				</div>
				
				<div class = "form-group" ng-class="{ 'has-error': form.organization.$dirty && form.organization.$error.required }">
					<label class = "col-md-4 control-label" for = "organization">Organization:</label>
					<div class = "col-md-4">
						<input type = "text" name = "organization" id = "organization" ng-model = "certificateRequest.organization"  class="form-control" required/>
						<span ng-show = "form.organization.$dirty && form.organization.$error.required" class="help-block">Organization is required</span>					
					</div>
				</div>
				
				<div class = "form-group"ng-class="{ 'has-error': (form.email.$dirty && form.email.$error.required) || (form.email.$dirty && !form.email.$valid) || (form.email.$dirty && vm.errorMessage)}">
					<label class = "col-md-4 control-label" for = "email">Email:</label>
					<div class = "col-md-4">
						<input type = "email" name = "email" id = "email" ng-model = "certificateRequest.email" class="form-control" required/>
						<span ng-show = "form.email.$dirty && form.email.$error.required" class="help-block">Email is required</span>
			            <span ng-show = "form.email.$dirty && !form.email.$valid && !form.email.$error.required" class="help-block">Enter email</span>
					
					</div>
				</div>
				
				<div class = "form-group" ng-class="{ 'has-error': form.commonName.$dirty && form.commonName.$error.required}">
					<label class = "col-md-4 control-label" for = "commonName">Common name:</label>
					<div class = "col-md-4">
						<input type = "text"  name = "commonName" id = "commonName" ng-model = "certificateRequest.commonName" class="form-control " required/> 
						<span ng-show = "form.commonName.$dirty && form.commonName.$error.required" class="help-block">Common name is required</span>							
					</div>
				</div>
				
				<div class = "form-group" ng-class="{ 'has-error': form.country.$dirty && form.country.$error.required}">
					<label class = "col-md-4 control-label" for = "country">Country:</label>
					<div class = "col-md-4">
						<input type = "text"  name = "country" id = "country" ng-model = "certificateRequest.country" class="form-control " required/>
						<span ng-show = "form.country.$dirty && form.country.$error.required" class="help-block">Country is required</span>							 		
					</div>
				</div>
				<div class = "form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required}">
					<label class = "col-md-4 control-label" for = "country">Password:</label>
					<div class = "col-md-4">
						<input type = "password"  name = "password" id = "password" ng-model = "certificateRequest.password" class="form-control " required/>
						<span ng-show = "form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>							 		
					</div>
				</div>
				
				<div class = "form-group">
					<label class = "col-md-4 control-label" form = "buttonSubmit"></label>
					<div class = "col-md-4">
						<button type = "submit" name = "buttonSubmit" class = "btn btn-primary" ng-disabled="form.$invalid">Create</button>
					</div>
				</div>
		</form>
	</div>
</div>
<div>
	<div ui-view></div>
</div>